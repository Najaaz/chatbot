<!DOCTYPE html>
<html lang="en">
    <head>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="author" content="Najaaz Nabhan">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Kiddoz is a chatbot designed to assist parents with their children's needs.">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">

    <link rel="stylesheet" href="{% static 'css/style.css' %}">

    <title>Kiddoz | {% block title%}{% endblock %}</title>
</head>

<body data-barba="wrapper">
    
    {% block content %}

    {% endblock %}

    <div id="chat-widget-container">
        <!-- toggle button -->
        <div id="chat-toggle-button" class="justify-content-center align-items-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="white" class="bi bi-send" viewBox="0 0 16 16">
                <path d="M15.854.146a.5.5 0 0 1 .11.54l-5.819 14.547a.75.75 0 0 1-1.329.124l-3.178-4.995L.643 7.184a.75.75 0 0 1 .124-1.33L15.314.037a.5.5 0 0 1 .54.11ZM6.636 10.07l2.761 4.338L14.13 2.576zm6.787-8.201L1.591 6.602l4.339 2.76z"/>
            </svg>
        </div>

        <!-- chat window -->
        <div id="chat-window" class="flex-column shadow-lg">
            <div id="chat-header" class="d-flex justify-content-between align-items-center p-3">
                <div>
                    <h4 class="m-0 fw-bold">Kiddoz AI Assistant</h4>
                    <p class="m-0 fw-bold" style="color: rgb(73, 244, 43);">‚óè Online</p>
                </div>
                <button id="chat-close" class="btn text-white">
                    <svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16">
                        <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"/>
                    </svg>
                </button>
            </div>

            <div id="chat-body" class="flex-grow-1 p-3 overflow-auto scroll-overlay">
                <div id="chat-info" class="d-flex flex-column justify-content-center align-items-center mx-auto text-center my-5">
                    <img src="{% static '/images/logo.png' %}" alt="Kiddoz Logo" class="img-fluid px-5">
                    <p class="my-2 fw-bold fs-5">
                        üëã Hi there! I'm here to help you recommend the perfect product based on your needs.
                    </p>
                    <small>
                        <strong>Please Note:</strong> This chatbot is still in development, so it might make occasional mistakes. 
                    </small>
                </div>

                <div id="chat-messages" class="d-flex flex-column gap-2">
                    <!-- Messages will be appended here dynamically -->
                </div>
                <!-- Guided‚Äëquestions / option bubbles -->
                <div id="chat-options" class="d-flex flex-wrap gap-2 pr-3" style="display:none;"></div>

                <!-- Typing indicator -->
                <div id="typing-indicator" class="d-none p-2 mt-3">
                    <span class="dot"></span><span class="dot"></span><span class="dot"></span>
                </div>
            </div>


            <form id="chat-form" class="d-flex p-3 border-top">
                {% csrf_token %}
                <input type="text" id="chat-input" class="form-control me-2 shadow" placeholder="Write your message‚Ä¶" autocomplete="off">
                <button type="submit" class="btn text-white btn-submit shadow">‚Üí</button>
            </form>
        </div>
    </div>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js" integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq" crossorigin="anonymous"></script>
<script src="{% static 'js/script.js' %}?v=3"></script>
{% if debug %}
    <script src="{% url 'django_browser_reload:reload' %}"></script>
{% endif %}
</body>
</html>